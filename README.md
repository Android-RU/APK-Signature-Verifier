# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ APK

**signature.py** ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∏ APK-—Ñ–∞–π–ª–æ–≤. –°–∫—Ä–∏–ø—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–ø–∏—Å—å Android-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å—Ö–µ–º—ã (v1/v2/v3/v4), –∏–∑–≤–ª–µ–∫–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞—Ö –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –∏—Ö —Å —ç—Ç–∞–ª–æ–Ω–Ω—ã–º–∏ –æ—Ç–ø–µ—á–∞—Ç–∫–∞–º–∏. –ü–æ–¥—Ö–æ–¥–∏—Ç –∫–∞–∫ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö APK, —Ç–∞–∫ –∏ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ (—á–µ—Ä–µ–∑ `adb`).

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ APK —Å –ø–æ–º–æ—â—å—é `apksigner` (Android SDK build-tools).  
- –§–æ–ª–±—ç–∫-–∞–Ω–∞–ª–∏–∑ (–µ—Å–ª–∏ `apksigner` –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω).  
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Å—Ö–µ–º –ø–æ–¥–ø–∏—Å–∏ (v1/v2/v3/v4).  
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–¥–ø–∏—Å–∞–Ω—Ç–∞—Ö –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞—Ö.  
- –í—ã–≤–æ–¥ –æ—Ç—á—ë—Ç–∞ –≤ —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ–º –≤–∏–¥–µ –∏–ª–∏ JSON.  
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±–∞–∑–æ–≤–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ APK –±–µ–∑ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏.  
- –ö–æ–¥—ã –≤–æ–∑–≤—Ä–∞—Ç–∞ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ CI/CD.  

---

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.9+  
- –û–°: Linux / macOS / Windows  
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:  
  - `apksigner` (Android SDK build-tools) –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏  
  - `adb` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ APK –ø—Ä—è–º–æ —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞  

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/Android-RU/APK-Signature-Verifier.git
cd APK-Signature-Verifier
````

–°–∫—Ä–∏–ø—Ç –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–∞–∫ –ø–∞–∫–µ—Ç–∞. –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é:

```bash
python3 signature.py <–ø—É—Ç—å_–∫_APK>
```

---

## üñ•Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ APK

```bash
python3 signature.py app-release.apk
```

### –í—ã–≤–æ–¥ –≤ JSON

```bash
python3 signature.py app-release.apk --json
```

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ JSON-–æ—Ç—á—ë—Ç–∞ –≤ —Ñ–∞–π–ª

```bash
python3 signature.py app-release.apk --json --out report.json
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—á–µ—Ä–µ–∑ adb)

```bash
python3 signature.py --package com.example.app
```

---

## üìä –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

**–ß–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã–π –æ—Ç—á—ë—Ç:**

```
APK: app-release.apk
Verification mode: apksigner
Verified: True
Schemes:
  v1: ok
  v2: ok
  v3: ok
Signers: 1
  - Signer #1: {...}
```

**JSON-–æ—Ç—á—ë—Ç:**

```json
{
  "apk_path": "app-release.apk",
  "verification_mode": "apksigner",
  "verified": true,
  "schemes": {
    "v1": "ok",
    "v2": "ok",
    "v3": "ok"
  },
  "signers": [
    {
      "sha256": "3f1a...9c"
    }
  ]
}
```

---

## üì¶ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ CI/CD

–°–∫—Ä–∏–ø—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–¥—ã –≤—ã—Ö–æ–¥–∞:

* `0` ‚Äî –ø–æ–¥–ø–∏—Å—å –≤–∞–ª–∏–¥–Ω–∞
* `1` ‚Äî –ø–æ–¥–ø–∏—Å—å –Ω–µ–≤–∞–ª–∏–¥–Ω–∞
* `3` ‚Äî –æ—à–∏–±–∫–∞ –≤–≤–æ–¥–∞/CLI
* `127/124` ‚Äî –ø—Ä–æ–±–ª–µ–º—ã —Å –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º –∏–ª–∏ —Ç–∞–π–º–∞—É—Ç

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ GitHub Actions:

```yaml
- name: Verify APK Signature
  run: python3 signature.py app-release.apk
```

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π **MIT**.
–ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. [LICENSE](LICENSE).
